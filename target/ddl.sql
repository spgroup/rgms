alter table member_permissions drop foreign key FK6794C65FBD354E4D;
alter table member_publications drop foreign key FK93F10D4C9BB6E347;
alter table member_publications drop foreign key FK93F10D4CBD354E4D;
alter table member_record drop foreign key FKAB599D9639642C38;
alter table member_record drop foreign key FKAB599D96B0F0DEED;
alter table member_roles drop foreign key FKFD49A0D8BD354E4D;
alter table member_roles drop foreign key FKFD49A0D87117C98D;
alter table membership drop foreign key FKB01D87D6BD354E4D;
alter table membership drop foreign key FKB01D87D6704B3470;
alter table password_reset_request drop foreign key FK492958FB646F937C;
alter table research_group drop foreign key FKC9643ADB111BC311;
alter table role_permissions drop foreign key FKEAD9D23B7117C98D;
alter table shiro_password_reset_request drop foreign key FK2CB8AB09B8207B4B;
alter table shiro_role_permissions drop foreign key FK389B46C98BA4B1D;
alter table shiro_user_permissions drop foreign key FK34555A9EADE50EFD;
alter table shiro_user_roles drop foreign key FKBA221057ADE50EFD;
alter table shiro_user_roles drop foreign key FKBA2210578BA4B1D;
drop table if exists conferencia;
drop table if exists dissertacao;
drop table if exists ferramenta;
drop table if exists member;
drop table if exists member_permissions;
drop table if exists member_publications;
drop table if exists member_record;
drop table if exists member_roles;
drop table if exists membership;
drop table if exists password_reset_request;
drop table if exists periodico;
drop table if exists publication;
drop table if exists record;
drop table if exists research_group;
drop table if exists role;
drop table if exists role_permissions;
drop table if exists shiro_password_reset_request;
drop table if exists shiro_role;
drop table if exists shiro_role_permissions;
drop table if exists shiro_user;
drop table if exists shiro_user_permissions;
drop table if exists shiro_user_roles;
drop table if exists tese;
create table conferencia (id bigint not null auto_increment, version bigint not null, author varchar(255) not null, conference varchar(255) not null, month integer not null, page_final integer not null, page_initial integer not null, title varchar(255) not null, year integer not null, primary key (id)) ENGINE=InnoDB;
create table dissertacao (id bigint not null auto_increment, version bigint not null, author varchar(255) not null, month integer not null, school varchar(255) not null, title varchar(255) not null, year integer not null, primary key (id)) ENGINE=InnoDB;
create table ferramenta (id bigint not null auto_increment, version bigint not null, author varchar(255) not null, descricao varchar(255) not null, link varchar(255) not null, publicacao_associada varchar(255) not null, title varchar(255) not null, year integer not null, primary key (id)) ENGINE=InnoDB;
create table member (id bigint not null auto_increment, version bigint not null, active bit, additional_info varchar(255), city varchar(255), country varchar(255), date_created datetime not null, email varchar(255) not null unique, enabled bit not null, last_updated datetime not null, name varchar(255) not null, password_change_required_on_next_logon bit not null, password_hash varchar(255) not null, phone varchar(255), status varchar(16) not null, university varchar(255) not null, username varchar(20) not null unique, website varchar(255), primary key (id)) ENGINE=InnoDB;
create table member_permissions (member_id bigint, permissions_string varchar(255)) ENGINE=InnoDB;
create table member_publications (publication_id bigint not null, member_id bigint not null, primary key (member_id, publication_id)) ENGINE=InnoDB;
create table member_record (member_historics_id bigint, record_id bigint) ENGINE=InnoDB;
create table member_roles (member_id bigint not null, role_id bigint not null, primary key (member_id, role_id)) ENGINE=InnoDB;
create table membership (id bigint not null auto_increment, version bigint not null, date_joined datetime not null, date_left datetime, member_id bigint not null, research_group_id bigint not null, primary key (id)) ENGINE=InnoDB;
create table password_reset_request (id bigint not null auto_increment, version bigint not null, request_date datetime not null, token varchar(255) not null, user_id bigint not null, primary key (id)) ENGINE=InnoDB;
create table periodico (id bigint not null auto_increment, version bigint not null, author varchar(255) not null, journal varchar(255) not null, number integer not null, page_final integer not null, page_initial integer not null, title varchar(255) not null, volume integer not null, year integer not null, primary key (id)) ENGINE=InnoDB;
create table publication (id bigint not null auto_increment, version bigint not null, publication_date datetime not null, title varchar(255) not null, primary key (id)) ENGINE=InnoDB;
create table record (id bigint not null auto_increment, version bigint not null, end datetime, start datetime, status_h varchar(255) not null, primary key (id)) ENGINE=InnoDB;
create table research_group (id bigint not null auto_increment, version bigint not null, child_of_id bigint, description varchar(1000) not null, name varchar(50) not null, primary key (id)) ENGINE=InnoDB;
create table role (id bigint not null auto_increment, version bigint not null, date_created datetime not null, description varchar(255), last_updated datetime not null, name varchar(255) not null unique, primary key (id)) ENGINE=InnoDB;
create table role_permissions (role_id bigint, permissions_string varchar(255)) ENGINE=InnoDB;
create table shiro_password_reset_request (id bigint not null auto_increment, version bigint not null, request_date datetime not null, token varchar(255) not null, user_id bigint not null, primary key (id)) ENGINE=InnoDB;
create table shiro_role (id bigint not null auto_increment, version bigint not null, date_created datetime not null, description varchar(255), last_updated datetime not null, name varchar(255) not null unique, primary key (id)) ENGINE=InnoDB;
create table shiro_role_permissions (shiro_role_id bigint, permissions_string varchar(255)) ENGINE=InnoDB;
create table shiro_user (id bigint not null auto_increment, version bigint not null, additional_info varchar(255), date_created datetime not null, email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, last_updated datetime not null, password_change_required_on_next_logon bit not null, password_hash varchar(255) not null, username varchar(20) not null unique, primary key (id)) ENGINE=InnoDB;
create table shiro_user_permissions (shiro_user_id bigint, permissions_string varchar(255)) ENGINE=InnoDB;
create table shiro_user_roles (shiro_user_id bigint not null, shiro_role_id bigint not null, primary key (shiro_user_id, shiro_role_id)) ENGINE=InnoDB;
create table tese (id bigint not null auto_increment, version bigint not null, author varchar(255) not null, month integer not null, school varchar(255) not null, title varchar(255) not null, year integer not null, primary key (id)) ENGINE=InnoDB;
alter table member_permissions add index FK6794C65FBD354E4D (member_id), add constraint FK6794C65FBD354E4D foreign key (member_id) references member (id);
alter table member_publications add index FK93F10D4C9BB6E347 (publication_id), add constraint FK93F10D4C9BB6E347 foreign key (publication_id) references publication (id);
alter table member_publications add index FK93F10D4CBD354E4D (member_id), add constraint FK93F10D4CBD354E4D foreign key (member_id) references member (id);
alter table member_record add index FKAB599D9639642C38 (member_historics_id), add constraint FKAB599D9639642C38 foreign key (member_historics_id) references member (id);
alter table member_record add index FKAB599D96B0F0DEED (record_id), add constraint FKAB599D96B0F0DEED foreign key (record_id) references record (id);
alter table member_roles add index FKFD49A0D8BD354E4D (member_id), add constraint FKFD49A0D8BD354E4D foreign key (member_id) references member (id);
alter table member_roles add index FKFD49A0D87117C98D (role_id), add constraint FKFD49A0D87117C98D foreign key (role_id) references role (id);
alter table membership add index FKB01D87D6BD354E4D (member_id), add constraint FKB01D87D6BD354E4D foreign key (member_id) references member (id);
alter table membership add index FKB01D87D6704B3470 (research_group_id), add constraint FKB01D87D6704B3470 foreign key (research_group_id) references research_group (id);
alter table password_reset_request add index FK492958FB646F937C (user_id), add constraint FK492958FB646F937C foreign key (user_id) references member (id);
alter table research_group add index FKC9643ADB111BC311 (child_of_id), add constraint FKC9643ADB111BC311 foreign key (child_of_id) references research_group (id);
alter table role_permissions add index FKEAD9D23B7117C98D (role_id), add constraint FKEAD9D23B7117C98D foreign key (role_id) references role (id);
alter table shiro_password_reset_request add index FK2CB8AB09B8207B4B (user_id), add constraint FK2CB8AB09B8207B4B foreign key (user_id) references shiro_user (id);
alter table shiro_role_permissions add index FK389B46C98BA4B1D (shiro_role_id), add constraint FK389B46C98BA4B1D foreign key (shiro_role_id) references shiro_role (id);
alter table shiro_user_permissions add index FK34555A9EADE50EFD (shiro_user_id), add constraint FK34555A9EADE50EFD foreign key (shiro_user_id) references shiro_user (id);
alter table shiro_user_roles add index FKBA221057ADE50EFD (shiro_user_id), add constraint FKBA221057ADE50EFD foreign key (shiro_user_id) references shiro_user (id);
alter table shiro_user_roles add index FKBA2210578BA4B1D (shiro_role_id), add constraint FKBA2210578BA4B1D foreign key (shiro_role_id) references shiro_role (id);
